(this["webpackJsonphn-clone"]=this["webpackJsonphn-clone"]||[]).push([[0],{33:function(t,e,n){t.exports=n(61)},59:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var r=n(8),o=n(2),a=n(13),c=n(9),i=n(6),s=n(7),u=n(25),S=n.n(u),h=Object({NODE_ENV:"production",PUBLIC_URL:"/react-news-stand"}).URL||"http://localhost:3000/",l=2e4,E={"Content-Type":"application/json",Accept:"application/json"},d=new(function(){function t(e){var n=e.baseURL,r=void 0===n?h:n,o=e.timeout,a=void 0===o?l:o,c=e.headers,s=void 0===c?E:c,u=e.auth;Object(i.a)(this,t);var d=S.a.create({baseURL:r,timeout:a,headers:s,auth:u});d.interceptors.response.use(this.handleSuccess,this.handleError),this.client=d}return Object(s.a)(t,[{key:"handleSuccess",value:function(t){return t}},{key:"handleError",value:function(t){return Promise.reject(t)}},{key:"get",value:function(t){return this.client.get(t).then((function(t){return t.data}))}},{key:"post",value:function(t,e){return this.client.post(t,e).then((function(t){return t.data}))}},{key:"put",value:function(t,e){return this.client.put(t,e).then((function(t){return t.data}))}},{key:"patch",value:function(t,e){return this.client.patch(t,e).then((function(t){return t.data}))}},{key:"delete",value:function(t){return this.client.delete(t).then((function(t){return t.data}))}}]),t}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),f={};f.getTopStoryIds=function(){return d.get("/topstories".concat(".json?print=pretty"))},f.getStory=function(t){return d.get("/item/".concat(t).concat(".json?print=pretty"))},f.getStoriesByPage=function(t,e){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:e*t,end:(e+1)*t}}(20,e),r=function(t){var e=t.begin,n=t.end;return t.items.slice(e,n)}({begin:n.begin,end:n.end,items:t}).map((function(t){return f.getStory(t)}));return Promise.all(r)};var p=f,_="@hnReader/story",T={FETCH_STORY_IDS_REQUEST:"".concat(_,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(_,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(_,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(_,"/FETCH_STORIES_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(_,"/FETCH_STORIES_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(_,"/FETCH_STORIES_FAILURE")},g=function(t,e){return{type:t,payload:e}},v={fetchStoryIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){return e(g(T.FETCH_STORY_IDS_REQUEST,t)),p.getTopStoryIds().then((function(t){e(g(T.FETCH_STORY_IDS_SUCCESS,{storyIds:t})),e(v.fetchStories({storyIds:t,page:0}))})).catch((function(t){return e(g(T.FETCH_STORY_IDS_FAILURE,t))}))}},fetchStories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n=t.storyIds,r=t.page;return e(g(T.FETCH_STORIES_REQUEST,t)),p.getStoriesByPage(n,r).then((function(t){return e(g(T.FETCH_STORIES_SUCCESS,{stories:t}))})).catch((function(t){return e(g(T.FETCH_STORIES_FAILURE,t))}))}}},y=v,I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case T.FETCH_STORY_IDS_REQUEST:case T.FETCH_STORIES_REQUEST:return Object(c.a)({},t,{isFetching:!0});case T.FETCH_STORY_IDS_SUCCESS:return Object(c.a)({},t,{},r);case T.FETCH_STORIES_SUCCESS:return Object(c.a)({},t,{stories:[].concat(Object(a.a)(t.stories),Object(a.a)(r.stories)),page:t.page+1,isFetching:!1});default:return t}},O=Object(o.c)({story:I}),R=n(26),C=(n(27),[]);C.push(R.a);var F=Object(o.d)(o.a.apply(void 0,C)),m=function(t){return Object(o.e)(O,t,F)},b=n(0),U=n.n(b),j=n(5),H=n.n(j),k=n(31),w=n(28),D=n(32),L="https://news.ycombinator.com",Y="".concat(L,"/item?id="),A=("".concat(L,"/user?id="),function(t){var e=t.url,n=t.id,r="".concat(Y).concat(n);return e||r}),Q=(n(59),function(t){var e=t.title,n=t.url,r=t.id,o=A({url:n,id:r});return U.a.createElement("div",{className:"titles"},e,U.a.createElement("a",{className:"article-link",href:o,target:"_blank",rel:"noopener noreferrer"},"Read More"))}),N=function(t){var e=t.stories;return U.a.createElement("div",null,e.map((function(t){return U.a.createElement(Q,Object.assign({key:t.id},t))})))},P=n(29),B=(n(60),function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(k.a)(this,(t=Object(w.a)(e)).call.apply(t,[this].concat(o)))).fetchStories=function(){var t=n.props,e=t.storyIds,r=t.page,o=t.fetchStories;t.isFetching||o({storyIds:e,page:r})},n}return Object(D.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage()}},{key:"render",value:function(){var t=this.props,e=t.stories,n=t.hasMoreStories;return U.a.createElement("div",null,U.a.createElement("div",{className:"page-header"},"The News Stand"),U.a.createElement(P.a,{dataLength:e.length,next:this.fetchStories,hasMore:n,loader:"LOADING...",style:{height:"100%",overflow:"visible"}},U.a.createElement(N,{stories:e})))}}]),e}(b.Component)),M=n(30),x=Object(M.a)((function(t){return t.story.storyIds}),(function(t){return t.story.stories}),(function(t,e){return t.length>e.length})),J=Object(r.b)((function(t){return{hasMoreStories:x(t),stories:t.story.stories,page:t.story.page,storyIds:t.story.storyIds,isFetching:t.story.isFetching}}),(function(t){return{fetchStoriesFirstPage:function(){return t(y.fetchStoryIds())},fetchStories:function(e){var n=e.storyIds,r=e.page;return t(y.fetchStories({storyIds:n,page:r}))}}}))(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var t=m({});H.a.render(U.a.createElement(r.a,{store:t},U.a.createElement("div",null,U.a.createElement(J,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.c79dd7f7.chunk.js.map